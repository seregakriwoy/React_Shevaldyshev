{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useTechnologiesApi.js\nimport { useState, useEffect, useCallback } from 'react';\nconst GITHUB_API = 'https://api.github.com';\nfunction useTechnologiesApi() {\n  _s();\n  const [technologies, setTechnologies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Моковые данные для примера (если API не работает)\n  const mockTechnologies = [{\n    id: 1,\n    title: 'React',\n    description: 'Библиотека для создания пользовательских интерфейсов',\n    category: 'frontend',\n    difficulty: 'beginner',\n    resources: ['https://react.dev', 'https://ru.reactjs.org']\n  }, {\n    id: 2,\n    title: 'Node.js',\n    description: 'Среда выполнения JavaScript на сервере',\n    category: 'backend',\n    difficulty: 'intermediate',\n    resources: ['https://nodejs.org', 'https://nodejs.org/ru/docs/']\n  }, {\n    id: 3,\n    title: 'TypeScript',\n    description: 'Типизированное надмножество JavaScript',\n    category: 'language',\n    difficulty: 'intermediate',\n    resources: ['https://www.typescriptlang.org']\n  }];\n\n  // Загрузка технологий из GitHub API\n  const fetchTechnologies = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Пробуем получить данные из GitHub API\n      const response = await fetch(`${GITHUB_API}/search/repositories?q=topic:react+topic:javascript+topic:nodejs&sort=stars&order=desc&per_page=10`, {\n        headers: {\n          'Accept': 'application/vnd.github.v3+json'\n        }\n      });\n      if (!response.ok) {\n        // Если API недоступен, используем моковые данные\n        console.log('GitHub API недоступен, используем моковые данные');\n        setTechnologies(mockTechnologies);\n        return;\n      }\n      const data = await response.json();\n\n      // Преобразуем репозитории GitHub в формат технологий\n      const techFromGitHub = data.items.map((repo, index) => ({\n        id: repo.id || index + 100,\n        title: repo.name,\n        description: repo.description || `GitHub репозиторий: ${repo.name}`,\n        category: this.getCategoryFromTopics(repo.topics),\n        difficulty: this.getDifficultyFromStars(repo.stargazers_count),\n        resources: [repo.html_url],\n        githubStats: {\n          stars: repo.stargazers_count,\n          forks: repo.forks_count,\n          language: repo.language,\n          updatedAt: repo.updated_at\n        },\n        createdAt: repo.created_at\n      }));\n\n      // Объединяем с моковыми данными\n      const allTechnologies = [...mockTechnologies, ...techFromGitHub];\n      setTechnologies(allTechnologies);\n    } catch (err) {\n      console.error('Ошибка загрузки:', err);\n      setError('Не удалось загрузить технологии. Используем локальные данные.');\n      setTechnologies(mockTechnologies);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Добавление новой технологии\n  const addTechnology = useCallback(async techData => {\n    try {\n      // Имитация API запроса\n      await new Promise(resolve => setTimeout(resolve, 500));\n      const newTech = {\n        id: Date.now(),\n        ...techData,\n        createdAt: new Date().toISOString()\n      };\n      setTechnologies(prev => [...prev, newTech]);\n      return newTech;\n    } catch (err) {\n      throw new Error('Не удалось добавить технологию');\n    }\n  }, []);\n\n  // Вспомогательные функции\n  const getCategoryFromTopics = topics => {\n    if (!topics) return 'other';\n    if (topics.includes('react') || topics.includes('frontend')) return 'frontend';\n    if (topics.includes('node') || topics.includes('backend')) return 'backend';\n    if (topics.includes('typescript') || topics.includes('javascript')) return 'language';\n    return 'other';\n  };\n  const getDifficultyFromStars = stars => {\n    if (stars > 10000) return 'advanced';\n    if (stars > 1000) return 'intermediate';\n    return 'beginner';\n  };\n\n  // Загружаем технологии при монтировании\n  useEffect(() => {\n    fetchTechnologies();\n  }, [fetchTechnologies]);\n  return {\n    technologies,\n    loading,\n    error,\n    refetch: fetchTechnologies,\n    addTechnology\n  };\n}\n_s(useTechnologiesApi, \"ZoLAby7J4kvyncKiqHQJ30aKKk0=\");\nexport default useTechnologiesApi;","map":{"version":3,"names":["useState","useEffect","useCallback","GITHUB_API","useTechnologiesApi","_s","technologies","setTechnologies","loading","setLoading","error","setError","mockTechnologies","id","title","description","category","difficulty","resources","fetchTechnologies","response","fetch","headers","ok","console","log","data","json","techFromGitHub","items","map","repo","index","name","getCategoryFromTopics","topics","getDifficultyFromStars","stargazers_count","html_url","githubStats","stars","forks","forks_count","language","updatedAt","updated_at","createdAt","created_at","allTechnologies","err","addTechnology","techData","Promise","resolve","setTimeout","newTech","Date","now","toISOString","prev","Error","includes","refetch"],"sources":["C:/Users/serge/vscprojects/React_Shevaldyshev/src/hooks/useTechnologiesApi.js"],"sourcesContent":["// src/hooks/useTechnologiesApi.js\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\nconst GITHUB_API = 'https://api.github.com';\r\n\r\nfunction useTechnologiesApi() {\r\n    const [technologies, setTechnologies] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    // Моковые данные для примера (если API не работает)\r\n    const mockTechnologies = [\r\n        {\r\n            id: 1,\r\n            title: 'React',\r\n            description: 'Библиотека для создания пользовательских интерфейсов',\r\n            category: 'frontend',\r\n            difficulty: 'beginner',\r\n            resources: ['https://react.dev', 'https://ru.reactjs.org']\r\n        },\r\n        {\r\n            id: 2,\r\n            title: 'Node.js',\r\n            description: 'Среда выполнения JavaScript на сервере',\r\n            category: 'backend',\r\n            difficulty: 'intermediate',\r\n            resources: ['https://nodejs.org', 'https://nodejs.org/ru/docs/']\r\n        },\r\n        {\r\n            id: 3,\r\n            title: 'TypeScript',\r\n            description: 'Типизированное надмножество JavaScript',\r\n            category: 'language',\r\n            difficulty: 'intermediate',\r\n            resources: ['https://www.typescriptlang.org']\r\n        }\r\n    ];\r\n\r\n    // Загрузка технологий из GitHub API\r\n    const fetchTechnologies = useCallback(async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            \r\n            // Пробуем получить данные из GitHub API\r\n            const response = await fetch(\r\n                `${GITHUB_API}/search/repositories?q=topic:react+topic:javascript+topic:nodejs&sort=stars&order=desc&per_page=10`,\r\n                {\r\n                    headers: {\r\n                        'Accept': 'application/vnd.github.v3+json'\r\n                    }\r\n                }\r\n            );\r\n\r\n            if (!response.ok) {\r\n                // Если API недоступен, используем моковые данные\r\n                console.log('GitHub API недоступен, используем моковые данные');\r\n                setTechnologies(mockTechnologies);\r\n                return;\r\n            }\r\n\r\n            const data = await response.json();\r\n            \r\n            // Преобразуем репозитории GitHub в формат технологий\r\n            const techFromGitHub = data.items.map((repo, index) => ({\r\n                id: repo.id || index + 100,\r\n                title: repo.name,\r\n                description: repo.description || `GitHub репозиторий: ${repo.name}`,\r\n                category: this.getCategoryFromTopics(repo.topics),\r\n                difficulty: this.getDifficultyFromStars(repo.stargazers_count),\r\n                resources: [repo.html_url],\r\n                githubStats: {\r\n                    stars: repo.stargazers_count,\r\n                    forks: repo.forks_count,\r\n                    language: repo.language,\r\n                    updatedAt: repo.updated_at\r\n                },\r\n                createdAt: repo.created_at\r\n            }));\r\n\r\n            // Объединяем с моковыми данными\r\n            const allTechnologies = [...mockTechnologies, ...techFromGitHub];\r\n            setTechnologies(allTechnologies);\r\n            \r\n        } catch (err) {\r\n            console.error('Ошибка загрузки:', err);\r\n            setError('Не удалось загрузить технологии. Используем локальные данные.');\r\n            setTechnologies(mockTechnologies);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Добавление новой технологии\r\n    const addTechnology = useCallback(async (techData) => {\r\n        try {\r\n            // Имитация API запроса\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n            const newTech = {\r\n                id: Date.now(),\r\n                ...techData,\r\n                createdAt: new Date().toISOString()\r\n            };\r\n\r\n            setTechnologies(prev => [...prev, newTech]);\r\n            return newTech;\r\n        } catch (err) {\r\n            throw new Error('Не удалось добавить технологию');\r\n        }\r\n    }, []);\r\n\r\n    // Вспомогательные функции\r\n    const getCategoryFromTopics = (topics) => {\r\n        if (!topics) return 'other';\r\n        if (topics.includes('react') || topics.includes('frontend')) return 'frontend';\r\n        if (topics.includes('node') || topics.includes('backend')) return 'backend';\r\n        if (topics.includes('typescript') || topics.includes('javascript')) return 'language';\r\n        return 'other';\r\n    };\r\n\r\n    const getDifficultyFromStars = (stars) => {\r\n        if (stars > 10000) return 'advanced';\r\n        if (stars > 1000) return 'intermediate';\r\n        return 'beginner';\r\n    };\r\n\r\n    // Загружаем технологии при монтировании\r\n    useEffect(() => {\r\n        fetchTechnologies();\r\n    }, [fetchTechnologies]);\r\n\r\n    return {\r\n        technologies,\r\n        loading,\r\n        error,\r\n        refetch: fetchTechnologies,\r\n        addTechnology\r\n    };\r\n}\r\n\r\nexport default useTechnologiesApi;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}